<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style>
    @media (prefers-color-scheme: dark) {
      body { background: #333; color: white; }
      a { color: skyblue; }
    }
    .container { font-family: sans-serif; max-width: 900px; margin: 0 auto; padding: 24px; }
    .intro { text-align: center; }
    .licenses-list { list-style-type: none; margin: 0; padding: 0; }
    .license-used-by { margin-top: -10px; }
    .license-text { max-height: 240px; overflow-y: auto; white-space: pre-wrap; border: 1px solid #999; padding: 12px; border-radius: 8px; }
    .pill { display:inline-block; padding:2px 8px; border:1px solid #999; border-radius:999px; font-size: 12px; margin-left: 8px; }
  </style>
</head>
<body>
  <main class="container">
    <div class="intro">
      <h1>Third Party Licenses</h1>
      <p>This product includes third-party open source components. This page lists the licenses for those components.</p>
      <p><small>Generated: {{.GeneratedAt}}</small></p>
    </div>

    <h2>Overview of licenses</h2>
    <ul class="licenses-overview">
      {{range .Overview}}
        <li><a href="#{{.ID}}">{{.Name}}</a> ({{.Count}})</li>
      {{end}}
    </ul>

    <h2>All license text</h2>
    <ul class="licenses-list">
      {{range .Licenses}}
        <li class="license">
          <h3 id="{{.ID}}">{{.Name}} <span class="pill">{{.ID}}</span></h3>

          <h4>Used by:</h4>
          <ul class="license-used-by">
            {{range .UsedBy}}
              <li>
                {{if .URL}}
                  <a href="{{.URL}}">{{.Name}} {{.Version}}</a>
                {{else}}
                  {{.Name}} {{.Version}}
                {{end}}
                {{if .PURL}} <small>({{.PURL}})</small>{{end}}
              </li>
            {{end}}
          </ul>

          <pre class="license-text">{{.Text}}</pre>
        </li>
      {{end}}
    </ul>
  </main>
</body>
</html>
